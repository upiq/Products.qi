<?xml version="1.0" encoding="UTF-8"?>
<chart 
      xmlns:tal="http://xml.zope.org/namespaces/tal">

	<series>
	    <tal:dates repeat="date view/dates">
	        <value tal:attributes="xid date" tal:content="python:date.strftime('%m/%Y')" />
        </tal:dates>
        
	</series>
	<graphs>
	    <tal:goal define="value python:context.getMeasures()[0].goal" condition="python:not context.multimeasure and value" >
	        <graph gid="goal">
	        <tal:dates repeat="date view/dates">
	            <value tal:attributes="xid date" tal:content="value" description="Goal" />
            </tal:dates>
            </graph>
        </tal:goal>
	    
	    <tal:teams repeat="team view/teams">
	    <tal:measures repeat="measure view/measures">
		<graph gid="team" tal:attributes="gid python:'%s/%s'%(team.id,measure.id)">
		    <tal:data repeat="date view/dates">
	            <value tal:define="value python: view.valuefor(measure, team,date)"
	                 tal:attributes="xid date" description="example"
	                tal:content="value" tal:condition="python: value is not None" />
	        </tal:data>
		</graph>
	    </tal:measures>
	    </tal:teams>
	</graphs>
</chart>
