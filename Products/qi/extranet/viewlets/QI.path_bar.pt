<div id="portal-breadcrumbs" class="qibreadcrumbs"
     i18n:domain="plone">

    <tal:qimod define="curUrl context/absolute_url;
        qi_utilities nocall:here/qi_utilities;
        domain python: qi_utilities.domainStrip(curUrl);
        issite python: domain=='localhost' or domain=='qiteamspace.com' or domain=='www.qiteamspace.com'
        or domain == 'qiteamspace-demo.com' or domain== 'www.qiteamspace-demo.com';
        crumbs view/breadcrumbs;
        count python:1">
               
    <span id="breadcrumbs-you-are-here" i18n:translate="you_are_here">You
are here:</span>
   
    <a i18n:translate="tabs_home" tal:attributes="href view/navigation_root_url">Home</a>
    <span tal:condition="python:crumbs and issite"
        class="breadcrumbSeparator">
        
        <tal:ltr condition="not: view/is_rtl">&rarr;</tal:ltr>
        <tal:rtl condition="view/is_rtl">&raquo;</tal:rtl>
    </span>

    <span tal:repeat="crumb view/breadcrumbs"
          tal:attributes="dir python:view.is_rtl and 'rtl' or 'ltr'">
        <tal:last tal:define="is_last repeat/crumb/end;
                        index repeat/crumb/index">
            <a href="#"
               tal:omit-tag="not: crumb/absolute_url"
               tal:condition="python:not is_last and (issite or index>0)"
               tal:attributes="href crumb/absolute_url"
               tal:content="crumb/Title">
                crumb
            </a>
            <span class="breadcrumbSeparator"
                tal:condition="python: not is_last ">
                <tal:ltr condition="not: view/is_rtl">&rarr;</tal:ltr>
                <tal:rtl condition="view/is_rtl">&raquo;</tal:rtl>
            </span>
            <span tal:condition="python:is_last and (issite or index>0)"
                  tal:content="crumb/Title">crumb</span>
         </tal:last>
    </span>
    </tal:qimod>
</div>
